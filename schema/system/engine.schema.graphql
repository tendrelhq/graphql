# Entrypoints into the "engine"
type Query {
  entity(id: Entity!): EntityConnection!
}

"""
An entity represents a general-purpose object. The scalar representation is
just an opaque string, similar to ID.
"""
scalar Entity

"""
Components characterize Entities as possessing a particular trait.
They are just simple structs, holding all data necessary to model that trait.
"""
interface Component {
  id: Entity!
}

type EntityConnection {
  entity: Entity!
  components(
    first: Int
    last: Int
    before: String
    after: String
  ): EntityComponentConnection!
}

type EntityComponentConnection implements Connection {
  edges: [EntityComponentEdge!]!
  pageInfo: PageInfo!
  totalCount: Int!
}

type EntityComponentEdge implements Edge {
  cursor: String!
  node: Component!
}

#
# Pagination primitives
#
interface Connection {
  totalCount: Int!
  pageInfo: PageInfo!
}

interface Edge {
  cursor: String!
}
